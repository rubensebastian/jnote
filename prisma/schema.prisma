generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model applicant {
  id            Int          @id @default(autoincrement())
  username      String       @unique @db.VarChar(50)
  email         String       @unique @db.VarChar(100)
  password_hash String
  created_at    DateTime?    @default(now()) @db.Timestamp(6)
  education     education[]
  experience    experience[]
}

model education {
  id           BigInt    @id @default(autoincrement())
  applicant_id Int
  field        String    @db.VarChar(255)
  start_date   DateTime  @db.Date
  end_date     DateTime? @db.Date
  institution  String    @db.VarChar(255)
  level        String    @db.VarChar(20)
  applicant    applicant @relation(fields: [applicant_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model experience {
  id             BigInt           @id @default(autoincrement())
  applicant_id   Int
  organization   String           @db.VarChar(255)
  title          String           @db.VarChar(255)
  start_date     DateTime         @db.Date
  end_date       DateTime?        @db.Date
  applicant      applicant        @relation(fields: [applicant_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  responsibility responsibility[]
}

model responsibility {
  id            BigInt     @id @default(autoincrement())
  experience_id BigInt
  description   String
  experience    experience @relation(fields: [experience_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}
